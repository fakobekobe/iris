{% extends 'utilisateur/base.html' %}
{% load static %}
{% block titre %}{{titre}}{% endblock %}

{% block tableau_de_bord %}

<h2 class="text-center mt-1">
    Fiche d'identification Secteur Agricole
</h2>
<hr />

<form method="post" action="{% url 'presentation:ajouter_secteuragricole' %}" enctype="multipart/form-data" autocomplete="off">
    {%  csrf_token %}
    <div class="row mt-3 mb-3 text-center">
        <!-- Membre -->
        <div class="col-md-6 mb-3">
            <div class="card">
                <div class="card-header text-white bg-warning">Membre</div>
                <div class="card-body">
                    <!-- -->
                    <div class="input-group mb-3 justify-content-center">
                        <div class="input-group-prepend">
                          <label class="input-group-text label-sans-fond">Sexe : </label>
                      </div>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="sexe" id="sexefemme" value="F">
                            <label class="form-check-label" for="sexefemme">F</label>
                        </div>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="sexe" id="sexehomme" value="M">
                            <label class="form-check-label" for="sexehomme">M</label>
                        </div>
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="form-row mb-2">
                        <div class="col">
                          <input type="text" name="nom" class="form-control" placeholder="Nom">
                        </div>
                        <div class="col">
                          <input type="text" name="prenoms" class="form-control" placeholder="Prénoms">
                        </div>
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="form-row mb-2">
                        <div class="col">
                          <input type="text" name="nomjeunefille" class="form-control" placeholder="Nom de jeune fille">
                        </div>
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="input-group mb-2">
                        <div class="input-group-prepend">
                            <span class="input-group-text label-sans-fond">Date de naissance</span>
                        </div>
                        <input type="date" name="date_naissance" value="{% now 'Y-m-d' %}" class="form-control" >
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="input-group mb-2">
                          <input type="text" name="lieunaissancetexte" id="label_naissance" class="form-control" placeholder="Lieu de naissance" readonly>
                            <div class="input-group-append">
                                <span class="input-group-text btn btn-danger" id="label_naissance_times" title="Annuler"><i class="fas fa-times"></i></span>
                            </div>
                            <div class="input-group-append">
                                <span class="input-group-text btn btn-success" id="label_naissance_plus" title="Ajouter un lieu de naissance" data-toggle="modal" data-target="#date_de_naissance_Modal" data-backdrop="static"><i class="fas fa-plus"></i></span>
                            </div>
                          <input type="text" hidden name="lieu_naissance" value="" id="lieu_naissance" class="form-control">
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="input-group mb-3 justify-content-center">
                        <div class="input-group-prepend">
                          <label class="input-group-text label-sans-fond">Type de pièce : </label>
                      </div>

                        {% for typepiece in typepieces %}
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="typepiece" id="typepiece{{typepiece.id}}" value="{{typepiece.id}}">
                            <label class="form-check-label" for="typepiece{{typepiece.id}}">{{typepiece.type}}</label>
                        </div>
                        {% endfor %}

                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="form-row mb-2">
                        <div class="col">
                          <input type="text" name="numeropiece" class="form-control" placeholder="N° de la pièce ">
                        </div>
                    </div>
                    <!-- -->

                    <!-- -->
                    <div class="form-row mb-2">
                      <select name="nationalite" id="select_nationalite" class="form-control" required>
                          <option value="" selected>--- Sélectionnez une nationalité ---</option>
                          {% for nationalite in nationalites %}
                          <option value="{{nationalite.id}}" >{{nationalite.nationalite|capfirst}}</option>
                          {% endfor %}
                      </select>
                  </div>
                    <!-- -->

                    <!-- -->
                    <div class="form-row mb-2">
                        <div class="col">
                          <input type="text" name="contact" class="form-control" placeholder="Contacts">
                        </div>
                    </div>
                    <!-- -->

                </div>
            </div>
        </div>
        <!-- -->

        <!-- Vie Coopérative et Statut matrimonial  -->
        <div class="col-md-6 mb-3">

            <!-- Vie Coopérative -->
            <div class="row mb-3 text-center">
                <div class="col-md-12 mb-3">
                    <div class="card text-white">
                    <div class="card-header bg-success">Vie coopérative</div>
                    <div class="card-body">

                        <!-- -->
                        <div class="input-group mb-2">
                              <input type="text" name="cooperative_texte" id="cooperative_texte" value="" class="form-control" placeholder="Nom de la coopérative" readonly>
                                <div class="input-group-append">
                                    <span class="input-group-text btn btn-danger" id="label_cooperative_times" title="Annuler"><i class="fas fa-times"></i></span>
                                </div>
                                <div class="input-group-append">
                                    <span class="input-group-text btn btn-success" id="label_cooperative_plus" title="Ajouter une coopérative" data-toggle="modal" data-target="#cooperative_Modal" data-backdrop="static"><i class="fas fa-plus"></i></span>
                                </div>
                              <input type="text" hidden name="cooperative" value="" id="cooperative" class="form-control">
                        </div>
                        <!-- -->

                        <!-- -->
                        <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <span class="input-group-text label-sans-fond">Date d'adhésion</span>
                            </div>
                            <input type="date" name="dateadhesion" value="{% now 'Y-m-d' %}" class="form-control" >
                        </div>
                        <!-- -->

                        <!-- -->
                        <div class="form-row mb-2">
                            <div class="col">
                              <input type="text" name="numero_carte" class="form-control" placeholder="N° de carte de membre">
                            </div>
                        </div>
                        <!-- -->

                        <!-- -->
                        <div class="form-row mb-2">
                            <select name="niveau" id="niveau" class="form-control" required>
                                <option value="" selected>--- Sélectionnez un niveau ---</option>
                                {% for niveau in niveaux %}
                                <option value="{{niveau.id}}" >{{niveau.niveau|upper}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <!-- -->

                        <!-- -->
                        <div class="form-row mb-2">
                            <select name="niveauscolaire" id="niveauscolaire" class="form-control" required>
                                <option value="" selected>--- Sélectionnez un niveau scolaire ---</option>
                            </select>
                        </div>
                        <!-- -->

                    </div>
                </div>
                </div>
            </div>
            <!-- -->

            <!-- Statut matrimonial -->
            <div class="row mb-3 text-center">
                <div class="col-md-12 mb-3">
                    <div class="card">
                    <div class="card-header text-white bg-primary">Statut matrimonial</div>
                    <div class="card-body">

                        <!-- -->
                        <div class="input-group mb-3 justify-content-center">

                            {% for situationmatrimoniale in situationmatrimoniales %}
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="situationmatrimoniale" id="situationmatrimoniale{{situationmatrimoniale.id}}" value="{{situationmatrimoniale.id}}">
                                <label class="form-check-label" for="situationmatrimoniale{{situationmatrimoniale.id}}">{{situationmatrimoniale.situation}}</label>
                            </div>
                            {% endfor %}

                        </div>
                        <!-- -->


                        <!-- -->
                        <fieldset style="border:1px solid #CCC; padding:5px;">
                            <legend style="font-size:1em;color:gray;border:1px solid #CCC;">
                                Ajouter un parent
                            </legend>
                            <!-- -->
                            <div class="form-row mb-2">
                                <div class="col">
                                  <input type="button" id="parent_ajouter" class="btn btn-outline-primary" value="Ajouter un parent" data-toggle="modal" data-target="#parentModal" data-backdrop="static">
                                </div>
                                <div class="col">
                                  <input type="button" id="parent_annuler" class="btn btn-outline-danger" value="Vider la liste">
                                </div>
                            </div>
                            <!-- -->


                            <!-- -->
                            <select name="parent" id="parent_liste" class="custom-select" multiple>
                            </select>
                            <!-- -->
                        </fieldset>
                        <!-- -->


                    </div>
                </div>
                </div>
            </div>
            <!-- -->

        </div>
        <!-- -->
    </div>

    <!-- -->
    <div class="input-group mb-3 justify-content-center">
        <input type="reset" value="Annuler" class="btn btn-danger mr-3">
        <input type="submit" value="Envoyer" name="envoyer" class="btn btn-primary">
    </div>
    <!-- -->

</form>

<!-- LISTE DES INCLUDES -->
{% include 'presentation/date_de_naissance.html' %}
{% include 'presentation/liste_cooperative.html' %}
{% include 'presentation/ajouter_cooperative.html' %}
{% include 'presentation/ajouter_parent.html' %}

{% endblock %}

{% block javascript %}
    <script>// Gestion des notifications
        {% for message in messages %}
            {% if message.tags == 'success' %}
                var m = "{{ message }}";
                swal("Parfait !",m,"success");  // "success" ou "error" ou "info"

            {% elif message.tags == 'error' %}
                var m = "{{ message }}";
                swal("Erreur !",m,"error");  // "success" ou "error" ou "info"

            {% elif message.tags == 'info' %}
                var m = "{{ message }}";
                swal("Parfait !",m,"info");  // "success" ou "error" ou "info"
            {% endif %}
        {% endfor %}
    </script>
    <script src="{% static 'presentation/js/datatable.js' %}"></script>
    <script src="{% static 'presentation/js/table_recherche_cooperative.js' %}"></script>
{% endblock javascript %}